
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>权限管理</title>
    <link rel="stylesheet" href="__PUBLIC__/Azureadmin/Content/css/bootstrap.min.css" />
    <link rel="stylesheet" href="__PUBLIC__/Azureadmin/Content/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="__PUBLIC__/Azureadmin/Content/css/unicorn.main.css" />
    <link rel="stylesheet" href="__PUBLIC__/Azureadmin/Content/css/unicorn.jcs.css" class="skin-color" />
    <link href="__PUBLIC__/Azureadmin/bundles/basicCss?v=e961GYJIgjfBDjJc0xbZ0FcMyKvofaWQQoRovpMQGzY1" rel="stylesheet"/>

    
    <link href="__PUBLIC__/Azureadmin/Content/ModuleVipManager/index.css" rel="stylesheet" />
    <link href="__PUBLIC__/Azureadmin/Content/css/jquery.treetable.css" rel="stylesheet" />
    <link href="__PUBLIC__/Azureadmin/Content/css/jquery.treetable.theme.default.css" rel="stylesheet" />
    <link href="__PUBLIC__/Azureadmin/Scripts/Lib/iCheck/green.css" rel="stylesheet" />
    <link href="__PUBLIC__/Azureadmin/Scripts/Lib/iCheck/blue.css" rel="stylesheet" />

</head>
<body>
    <link href="__PUBLIC__/Azureadmin/Content/Home/_partialhead.css" rel="stylesheet" />
<link href="__PUBLIC__/Azureadmin/Content/ComMessage/commessage.css" rel="stylesheet" />
<script src="__PUBLIC__/Azureadmin/Scripts/Lib/jquery.js" type="text/javascript"></script>
<script src="__PUBLIC__/Azureadmin/Scripts/Home/_partialhead.js" type="text/javascript"></script>
<script src="__PUBLIC__/Azureadmin/Scripts/ComMessage/ComMessage-common.js"></script>

<div id="header">
    <h1><span>机构服务平台</span></h1>
</div>

<include file="Public:welcome" />

<div id="user-nav" class="navbar navbar-inverse">
    <ul class="nav">
        <li class="dropdown" id="menu-messages"><a href="javascript:;" data-toggle="dropdown" data-target="#menu-messages" class="dropdown-toggle"><i class="icon icon-envelope"></i><span class="text">消息</span><span id="span_UnreadComMessageCount" class="label label-important" style="display:none">0</span><b class="caret"></b></a><ul id="ul_ComMessage" class="dropdown-menu"></ul></li>
        
        <li><a href="/Home/HelpPage" target="_blank"><span class="text">帮助</span></a></li>
    </ul>
</div>

    <if condition="$ComId eq 0">
    <include file="Public:navigate" />
    <else />
    <include file="Public:navigate_other" />
    </if>
    
    <div id="content">
        <div id="breadcrumb"><a href="/Home/Index"><i class="icon-home"></i>欢迎</a><a href="javascript:;">页面管理</a><a href="/ModuleVipManager/Index" class="current">模块权限管理</a></div>
        
        <div class="container-fluid">
            

<div class="widget-box">
    <div class="widget-title">
        <h5>权限管理</h5>
        <button onclick="b()" class="btn btn-primary btn-mini top_r">保存</button>
        <button onclick="a()" class="btn btn-mini top_r">刷新</button>
    </div>
    <div class="widget-content nopadding">
        <div id="grid">
            <table id="table" class="table table-bordered table-striped"><thead><tr><th class="ui-state-default width1">模块名称</th><th class="ui-state-default">启用状态</th><th class="ui-state-default">注册用户 (0)</th><th class="ui-state-default">VIP-1 (1)</th><th class="ui-state-default">VIP-2 (2)</th><th class="ui-state-default">VIP 3 (3)</th><th class="ui-state-default">VIP 4 (4)</th><th class="ui-state-default">VIP 5 (5)</th></tr></thead><tbody><tr data-tt-id="180" data-tt-parent-id="0"><td class="td-tree"><span class="column">财经快讯</span></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="196" data-tt-parent-id="0"><td class="td-tree"><span class="column">财经日历</span></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="171" data-tt-parent-id="0"><td class="td-tree"><span class="column">多空对决</span></td><td><img enable="1" src="/Content/img/ok.png"/></td><td><input type="checkbox" vip="0" checked/></td><td><input type="checkbox" vip="1" checked/></td><td><input type="checkbox" vip="2" checked/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="187" data-tt-parent-id="0"><td class="td-tree"><span class="column">公司新闻</span></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="188" data-tt-parent-id="0"><td class="td-tree"><span class="column">机构数据</span></td><td><img enable="0" src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="201" data-tt-parent-id="0"><td class="td-tree"><span class="column">交易内参</span></td><td><img enable="1" src="/Content/img/ok.png"/></td><td><input type="checkbox" vip="0"/></td><td><input type="checkbox" vip="1"/></td><td><input type="checkbox" vip="2" checked/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="189" data-tt-parent-id="0"><td class="td-tree"><span class="column">实盘排行</span></td><td><img enable="0" src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="168" data-tt-parent-id="0"><td class="td-tree"><span class="column">首页</span></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="190" data-tt-parent-id="0"><td class="td-tree"><span class="column">账户诊断</span></td><td><img enable="1" src="/Content/img/ok.png"/></td><td><input type="checkbox" vip="0"/></td><td><input type="checkbox" vip="1"/></td><td><input type="checkbox" vip="2" checked/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="169" data-tt-parent-id="0"><td class="td-tree"><span class="column">直播室</span></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img need="1" src="/Content/img/ok.png" /></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr><tr data-tt-id="191" data-tt-parent-id="169"><td class="td-tree"><span class="column">分析师金评</span></td><td><img enable="1" src="/Content/img/ok.png"/></td><td><input type="checkbox" vip="0" checked/></td><td><input type="checkbox" vip="1" checked/></td><td><input type="checkbox" vip="2" checked/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td><td><img src="/Content/img/disabled.png"/></td></tr></tbody></table>
        </div>
        <div class="dataTables_wrapper">
            <div class="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"></div>
        </div>
    </div>
</div>


            
        </div>
    </div>
    <script src="__PUBLIC__/Azureadmin/bundles/basicJs?v=VEBAn_rqP8lcxeg7zmvLgQf31kk8SiPMstbdeK0r9p81"></script>

    <script type="text/javascript">
        $('#breadcrumb a:last-child').css('background-image', 'none');
        $(window).resize(function () {
            var height = $('#sidebar>ul').height() + 100;
            if (height < 600) {
                height = 600;
            }
            $('#content').css('min-height', height + 'px');
        }).resize();
    </script>
    
    <script type="text/javascript" src="__PUBLIC__/Azureadmin/Scripts/Lib/jquery.treetable.js"></script>
    <script src="__PUBLIC__/Azureadmin/Scripts/Lib/iCheck/icheck.min.js"></script>
    <script type="text/javascript">
        function init() {
            $('#table').treetable({ expandable: true }, true);
            $('input[vip!=-1]').iCheck({ checkboxClass: 'icheckbox_square-blue', increaseArea: '20%' });
            $('input[vip=-1]').iCheck({ checkboxClass: 'icheckbox_square-green', increaseArea: '20%' });
            $('input').on('ifClicked', function () {
                var check = !this.checked;
                var vip = $(this).attr('vip');
                var row = $(this).closest('tr');
                var prow = row.prevAll('tr[data-tt-id=' + row.attr('data-tt-parent-id') + ']');
                var crow = row.nextAll('tr[data-tt-parent-id=' + row.attr('data-tt-id') + ']');
                row.add(prow).add(crow).children('td[class="td-tree"]').css('color', 'red');
                row.add(prow).add(crow).attr('changed', 1);
                if (vip == -1) {
                    if (check) {
                        row.add(prow).find('input[vip!=-1]').iCheck('enable');
                        prow.find('input[vip=-1]').iCheck('check');
                    } else {
                        row.add(crow).find('input[vip!=-1]').iCheck('disable');
                        crow.find('input[vip=-1]').iCheck('uncheck');
                    }
                } else {
                    if (check) {
                        row.add(prow).find('input[vip!=-1]').filter(function () { return $(this).attr('vip') >= vip; }).iCheck('check');
                    } else {
                        row.add(crow).find('input[vip!=-1]').filter(function () { return $(this).attr('vip') <= vip; }).iCheck('uncheck');
                    }
                }
            });
        }
        function a() { require(["ModuleVipManager/index"], function (o) { o.refresh(); }); }
        function b() { require(["ModuleVipManager/index"], function (o) { o.update(); }); }
        init();
    </script>

</body>
</html>
